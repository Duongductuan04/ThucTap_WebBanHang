@using SimpleTaskApp.MobilePhones.Dto
@using SimpleTaskApp.Areas.Admin.Models.Common.Modals
@using SimpleTaskApp.Areas.Admin.Models.Orders

@model EditOrderViewModel

@{
    Layout = null;
}

@await Html.PartialAsync(
        "~/Areas/Admin/Views/Shared/Modals/_ModalHeader.cshtml",
        new ModalHeaderViewModel(L("EditOrder"))
    )

<form id="OrderEditForm" role="form" class="form-horizontal">
    <input type="hidden" name="Id" value="@Model.Order.Id" />

    <div class="modal-body">
        <!-- RecipientName -->
        <div class="form-group row required">
            <label class="col-md-3 col-form-label" for="RecipientName">@L("RecipientName")</label>
            <div class="col-md-9">
                <input id="RecipientName" name="RecipientName" type="text" class="form-control"
                       value="@Model.Order.RecipientName"
                       maxlength="128"
                       data-val="true"
                       data-val-required="@L("RecipientName_Required")" />
                <span class="text-danger" data-valmsg-for="RecipientName"></span>
            </div>
        </div>

        <!-- RecipientAddress -->
        <div class="form-group row required">
            <label class="col-md-3 col-form-label" for="RecipientAddress">@L("RecipientAddress")</label>
            <div class="col-md-9">
                <input id="RecipientAddress" name="RecipientAddress" type="text" class="form-control"
                       value="@Model.Order.RecipientAddress"
                       maxlength="256"
                       data-val="true"
                       data-val-required="@L("RecipientAddress_Required")" />
                <span class="text-danger" data-valmsg-for="RecipientAddress"></span>
            </div>
        </div>

        <!-- RecipientPhone -->
        <div class="form-group row required">
            <label class="col-md-3 col-form-label" for="RecipientPhone">@L("RecipientPhone")</label>
            <div class="col-md-9">
                <input id="RecipientPhone" name="RecipientPhone" type="text" class="form-control"
                       value="@Model.Order.RecipientPhone"
                       maxlength="20"
                       data-val="true"
                       data-val-required="@L("RecipientPhone_Required")" />
                <span class="text-danger" data-valmsg-for="RecipientPhone"></span>
            </div>
        </div>

        <!-- Status -->
        <div class="form-group row required">
            <label class="col-md-3 col-form-label" for="Status">@L("Status")</label>
            <div class="col-md-9">
                @Html.DropDownList("Status", new List<SelectListItem>
                {
                new SelectListItem { Text = L("Pending"),   Value = "0", Selected = (Model.Order.Status == 0) },
                new SelectListItem { Text = L("Shipping"),  Value = "1", Selected = (Model.Order.Status == 1) },
                new SelectListItem { Text = L("Completed"), Value = "2", Selected = (Model.Order.Status == 2) },
                new SelectListItem { Text = L("Cancelled"), Value = "3", Selected = (Model.Order.Status == 3) }
                }, new { @class = "form-control", id = "Status", required = "required" })
                <span class="text-danger" data-valmsg-for="Status"></span>
            </div>
        </div>

        <!-- PaymentMethod -->
        <div class="form-group row required">
            <label class="col-md-3 col-form-label" for="PaymentMethod">@L("PaymentMethod")</label>
            <div class="col-md-9">
                @Html.DropDownList("PaymentMethod", new List<SelectListItem>
                {
                new SelectListItem { Text = L("Cash"),         Value = "0", Selected = (Model.Order.PaymentMethod == 0) },
                new SelectListItem { Text = L("EWallet"),      Value = "1", Selected = (Model.Order.PaymentMethod == 1) }
                }, new { @class = "form-control", id = "PaymentMethod", required = "required" })
                <span class="text-danger" data-valmsg-for="PaymentMethod"></span>
            </div>
        </div>

        <!-- ShippingMethod -->
        <div class="form-group row required">
            <label class="col-md-3 col-form-label" for="ShippingMethod">@L("ShippingMethod")</label>
            <div class="col-md-9">
                @Html.DropDownList("ShippingMethod", new List<SelectListItem>
                {
                new SelectListItem { Text = L("Standard"),  Value = "0", Selected = (Model.Order.ShippingMethod == 0) },
                new SelectListItem { Text = L("Express"),   Value = "1", Selected = (Model.Order.ShippingMethod == 1) },
                new SelectListItem { Text = L("SuperFast"), Value = "2", Selected = (Model.Order.ShippingMethod == 2) }
                }, new { @class = "form-control", id = "ShippingMethod", required = "required" })
                <span class="text-danger" data-valmsg-for="ShippingMethod"></span>
            </div>
        </div>
        <!-- Note -->
        <div class="form-group row">
            <label class="col-md-3 col-form-label" for="Note">@L("Note")</label>
            <div class="col-md-9">
                <textarea id="Note" name="Note" class="form-control" rows="3"
                          placeholder="@L("EnterNote")">@Model.Order.Note</textarea>
                <span class="text-danger" data-valmsg-for="Note"></span>
            </div>
        </div>



    @await Html.PartialAsync("~/Areas/Admin/Views/Shared/Modals/_ModalFooterWithSaveAndCancel.cshtml")
</form>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
<script src="~/view-resources/Views/Orders/_EditModal.js" asp-append-version="true"></script>
